---
title: 通用渲染管线 LWSP USP 设置面板
date: 2019-11-27 22:41:00 +0800
categories: [Unity,图形渲染相关]
tags: [SRP]
---

# 关于通用渲染管线

通用渲染管道（URP）是Unity预先构建的可编写脚本的渲染管道。该技术提供了可扩展到移动平台的图形，并且您还可以将其用于高端控制台和PC。您无需计算着色器技术就可以实现高质量的快速渲染。URP使用简化的基于物理的照明和材料。

**URP使用单遍正向渲染。** 使用此管道可以在多个平台上获得优化的实时性能。



**注意：** 内置和自定义的光照着色器不适用于Universal Render Pipeline。相反，URP具有一组新的标准着色器。


**注意：** 使用URP进行的项目与“高清晰度渲染管线”或“内置Unity渲染管线”不兼容。



# 通用渲染管线资产

## General

管线渲染帧的核心部分

属性 | 描述
---|---
Depth Texture | 使URP创建一个_CameraDepthTexture。然后，默认情况下，URP会对场景中的所有摄像机使用此深度纹理。您可以在“ Camera Inspector.”中为单个摄像机覆盖此设置。
Opaque Texture | 启用此选项可_CameraOpaqueTexture为场景中的所有摄像机创建默认值。类似于内置渲染管道中的GrabPass。所述不透明纹理提供了场景的快照URP呈现任何透明网格权利之前。您可以在透明明暗器中使用它来创建效果，例如毛玻璃，水折射或热波。您可以在“ Camera Inspector.”中为单个摄像机覆盖此设置。
Opaque Downsampling | 将不透明纹理上的采样模式设置为以下之一：无：以与相机相同的分辨率生成不透明通道的副本。2x Bilinear：使用双线性滤波生成半分辨率图像。4x Box：使用框过滤生成四分之一分辨率的图像。这将产生柔和模糊的副本。4x Bilinear：使用双线性滤波产生四分之一分辨率的图像。
Terrain Holes | 如果禁用此选项，则在为Unity Player进行构建时，Universal RP会删除所有Terrain Hole Shader变体，这会减少构建时间。


## Quality

您可以在低端硬件上提高性能，或在高端硬件上提高图形外观。

**提示：** 如果要为不同的硬件设置不同的设置，则可以在多个Universal Render Pipeline资源中配置这些设置，然后根据需要将其切换出去。


属性 | 描述
---|---
HDR | 启用此选项后，默认情况下，场景中的每个摄像机都可以在高动态范围（HDR）中进行渲染。使用HDR，图像的最亮部分可以大于1。这使您的光强度范围更广，因此您的照明看起来更加真实。有了它，即使在明亮的光线下，您仍然可以看到细节并减少饱和度。如果您想要广泛的照明或使用光晕效果，这将很有用。如果您目标机型是低端硬件，则可以禁用它以跳过HDR计算并获得更好的性能。您可以在“ Camera Inspector.”中为单个摄像机覆盖此设置。
MSAA | 渲染时，默认情况下对场景中的每个摄像机都使用“ 多样本抗锯齿”。这会柔化几何图形的边缘，因此不会出现锯齿或闪烁。在下拉菜单中，选择每个像素要使用多少个样本：2x，4x或8x。选择的样本越多，对象边缘越平滑。如果您想跳过MSAA计算，或者在2D游戏中不需要它们，请选择**禁用**。
Render Scale | 缩放渲染目标分辨率（而不是当前设备的分辨率）。当出于性能原因要以较小的分辨率进行渲染时，或在进行大型渲染以提高质量时，请使用此选项。这只会缩放游戏渲染。UI渲染保留为设备的原始分辨率。


## Lighting

影响场景中的灯光。

如果禁用其中一些设置，则会从Shader变量中删除相关的关键字。如果您确定某些确定不会在游戏或应用中使用的设置，则可以禁用它们以提高性能并减少构建时间。


属性 | 描述
---|---
Main Light | 影响场景中的主定向光。您可以通过在Lighting Inspector中将其分配为Sun Source来选择它。如果未分配太阳源，则URP会将“场景”中最亮的定向光视为主光。您可以在“ 像素照明”和“ 无”之间进行选择。如果选择“无”，则即使设置了太阳源，URP也不会渲染主光源。
Cast Shadows | 选中此框可使主光源在场景中投射阴影。
Shadow Resolution(Main) | 这可控制主光源的阴影贴图纹理的大小。高分辨率可提供更清晰，更详细的阴影。如果内存或渲染时间有问题，请尝试使用较低的分辨率。
Additional Lights | 在这里，您可以选择使用其他光源来补充您的主光源。在“ 逐顶点”，“ 每像素 ”或“ 禁用 ”之间进行选择。
Per Object Limit | 影响每个GameObject的附加灯光数量的限制。
Cast Shadows | 使其他灯光在场景中投射阴影。
Shadow Resolution(Additional) | 附加光投射方向阴影的纹理的大小。这是一个精灵地图集，最多可容纳16个阴影贴图。高分辨率可提供更清晰，更详细的阴影。如果内存或渲染时间有问题，请尝试使用较低的分辨率。



## Shadows

这些设置会影响阴影的外观和行为。它们也会影响性能，因此您可以在此处进行调整，以在视觉质量和阴影渲染速度之间取得最佳平衡。


属性 | 描述
---|---
Distance | 这可以控制以Unity为单位在相机对象之前投射阴影的距离。经过此距离后，URP不会渲染阴影。例如，值100表示距离相机100米以上的对象不会投射阴影。在宽阔的开放世界中使用此功能，在此环境中渲染阴影可能会占用大量内存。或在视角距离有限的自上而下游戏中使用它。
Cascades | 选择阴影的级联数 。大量的级联为您提供了更接近相机的阴影。选项包括：无，两个级联和四个级联。如果遇到性能问题，请尝试减少级联数量。您还可以在设置下方的部分中配置阴影的距离。距离相机越远，阴影变得越不精细。
Soft Shadows | 如果为“ 主光源”或“ 附加光源”启用了阴影，则可以启用它以在阴影贴图上添加更平滑的滤镜。这样可以使阴影上的边缘平滑。启用后，渲染管线将在台式机平台上执行5x5帐篷过滤器，并在移动设备上执行4 Tap过滤器。禁用后，渲染管道会使用默认硬件过滤对阴影进行一次采样。如果禁用此功能，将获得更快的渲染速度，但阴影边缘更清晰，可能会像素化。



## Post-processing

本部分允许您微调全局后处理设置。

属性 | 描述
---|---
Grading Mode | 选择用于项目的颜色分级模式。• 高动态范围：此模式最适合与电影制作工作流程类似的高精度分级。Unity在色调映射之前应用颜色分级。• 低动态范围：此模式遵循更经典的工作流程。色调映射后，Unity会应用有限范围的颜色分级。
LUT Size | 设置“ 通用渲染管道”用于颜色分级的内部和外部查找纹理（LUT）的大小。较大的大小可提供更高的精度，但可能会降低性能和内存使用成本。您无法混合和匹配LUT尺寸，因此请在开始颜色分级过程之前确定尺寸。
默认值32提供了速度和质量的良好平衡。



## Advanced

本部分允许您微调较少更改的设置，这些设置会影响更深的渲染功能和Shader组合。

属性 | 描述
---|---
SRP Batcher | 选中此框以启用SRP Batcher。如果您有许多使用相同着色器的不同材质，则此功能很有用。SRP Batcher是一个内部循环，可在不影响GPU性能的情况下加快CPU渲染速度。使用SRP批处理程序时，它将替换SRP呈现代码内部循环。
Dynamic Batching | 启用Dynamic Batching，以使渲染管线自动对共享相同Material的小型动态对象进行批处理。这对于不支持GPU实例化的平台和图形API很有用。如果目标硬件确实支持GPU实例化，请禁用动态批处理。您可以在运行时更改此设置。
Mixed Lighting | 启用混合照明，告诉管道在构建中包括混合照明着色器变体。
Debug Level | 设置渲染管道生成的调试信息的级别。值为：
Disabled：禁用调试。这是默认值。
分析：使渲染管道提供详细的信息标签，您可以在FrameDebugger中看到这些标签。
Shader Variant Log Level | 设置有关您要在Unity完成构建时显示的“ Shader Stripping”和“ Shader Variants”的信息级别。有效值包括：
禁用：Unity不记录任何内容。
仅通用：Unity记录所有URP着色器的信息。
全部：Unity记录构建中所有着色器的信息。
构建完成后，您可以在“控制台”面板中查看信息。

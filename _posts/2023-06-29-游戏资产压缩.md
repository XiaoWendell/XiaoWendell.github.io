---
title: 游戏资产压缩
date: 2023-06-29 22:41:00 +0800
math: true
categories: [Unity,性能优化]
tags: [资源管理]
#Ref
# - https://developer.unity.cn/projects/64903262edbc2a0b505160d5


---


## Mesh Compress

通过球坐标系的方式将法线或者切线3个float分量，转换为仰角、方位角两个float

这样可以将法线和切线使用一个float4保存，运行时在顶点着色器中进行解码，更进一步压缩Mesh

> 压缩率约为 52%

![image-20230629160507578](https://raw.githubusercontent.com/XiaoWendell/img_note/empty/202306291605223.png)





![image-20230629153409353](https://raw.githubusercontent.com/XiaoWendell/img_note/empty/202306291534823.png)



- $$ r = \sqrt{x^2+y^2+z^2} $$
- $$ \theta = arccos({z \over r}) = arcsin(\sqrt {x^2+y^2 \over r} ) = arctan( \sqrt {x^2+y^2 \over z})  $$
- $$ \phi = arccos( {x \over r\ sin\theta}) = arcsin( {y \over r\ sin\theta}) = arctan( {y \over x}) $$



- $$ x = r\ sin\theta\ cos\phi $$
- $$ x = r\ sin\theta\ sin\phi $$
- $$ z = r \ cos\theta $$



## Animation Compress

![image-20230629161216926](https://raw.githubusercontent.com/XiaoWendell/img_note/empty/202306291612243.png)

- 不同动作，在相同的骨骼点下，所需要的精度是不同的

![image-20230629161325152](https://raw.githubusercontent.com/XiaoWendell/img_note/empty/202306291613650.png)

![image-20230629161342630](https://raw.githubusercontent.com/XiaoWendell/img_note/empty/202306291613572.png)

![image-20230629161423088](https://raw.githubusercontent.com/XiaoWendell/img_note/empty/202306291614084.png)

## Texture Compress

### 纹理复用

- 九宫格
- $ 1 \over 2 $ 、$$ 1 \over 4 $$ 对称纹理

### 压缩格式

- 采用ASTC，分纹理调整压缩格式
- 运行时生成的纹理也可以采用 ASTC 压缩
